"use strict";(()=>{var e={};e.id=695,e.ids=[695],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6363:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m});var i={};r.r(i),r.d(i,{OPTIONS:()=>u,POST:()=>c});var s=r(9303),o=r(8716),a=r(670),n=r(7070);let p={"billie eilish":{artist:"Billie Eilish",tracks:[{title:"bad guy",spotifyUrl:"https://open.spotify.com/track/2Fxmhks0bxGSBdJ92vM42m",previewUrl:"https://p.scdn.co/mp3-preview/...",image:"https://i.scdn.co/image/..."}]},"the weeknd":{artist:"The Weeknd",tracks:[{title:"Blinding Lights",spotifyUrl:"https://open.spotify.com/track/0VjIjW4GlUZAMYd2vXMi3b",previewUrl:"https://p.scdn.co/mp3-preview/...",image:"https://i.scdn.co/image/..."}]},"dua lipa":{artist:"Dua Lipa",tracks:[{title:"Levitating",spotifyUrl:"https://open.spotify.com/track/463CkQjx2Zk1yXoBuierM9",previewUrl:"https://p.scdn.co/mp3-preview/...",image:"https://i.scdn.co/image/..."}]}};async function l(e,t=2){let r=e.toLowerCase().trim();if(p[r]){let e=p[r];return e.tracks.slice(0,t).map(t=>({title:t.title,artist:e.artist,spotifyUrl:t.spotifyUrl,previewUrl:t.previewUrl,image:t.image}))}return[{title:`Top Track by ${e}`,artist:e,spotifyUrl:`https://open.spotify.com/search/${encodeURIComponent(e)}`,previewUrl:null,image:"https://via.placeholder.com/300x300?text=No+Image"}]}async function c(e){try{let{artists:t,limitPerArtist:r=2}=await e.json();if(!t||!Array.isArray(t))return n.NextResponse.json({error:"Artists array is required"},{status:400});if(0===t.length)return n.NextResponse.json({tracks:[]});let i=t.slice(0,20);console.log(`Searching for ${i.length} artists...`);let s=[];for(let e of i)if("string"==typeof e&&0!==e.trim().length)try{let t=await l(e.trim(),r);s.push(...t)}catch(t){console.warn(`Failed to search for artist: ${e}`,t)}return console.log(`Found ${s.length} tracks total`),n.NextResponse.json({tracks:s})}catch(e){return console.error("Preview playlist error:",e),n.NextResponse.json({error:"Failed to generate preview playlist"},{status:500})}}async function u(){return new n.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let d=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/previewPlaylist/route",pathname:"/api/previewPlaylist",filename:"route",bundlePath:"app/api/previewPlaylist/route"},resolvedPagePath:"/workspace/src/app/api/previewPlaylist/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:y}=d,g="/api/previewPlaylist/route";function v(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[276,972],()=>r(6363));module.exports=i})();