"use strict";(()=>{var e={};e.id=230,e.ids=[230],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},276:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>g,routeModule:()=>h,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var n={};r.r(n),r.d(n,{OPTIONS:()=>d,POST:()=>p});var s=r(9303),a=r(8716),o=r(670),i=r(7070);let l=["festival","music","stage","main","tent","arena","field","park","presents","featuring","feat","ft","vs","with","and","the","saturday","sunday","monday","tuesday","wednesday","thursday","friday","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","january","february","march","april","june","july","august","september","october","november","december","lineup","tickets","doors","open","pm","am","price","sold","out","buy","now","get","your","early","bird","vip","general","admission","downtown","center","venue","location","address","city","state","2023","2024","2025","th","st","nd","rd"],u={"&":"and","+":"and","ft.":"featuring","feat.":"featuring","w/":"with","vs.":"versus","v.":"versus"};function c(e){let t=e.toLowerCase().trim();return Object.entries(u).forEach(([e,r])=>{t=t.replace(RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),r)}),t=(t=t.replace(/[^\w\s\-']/g," ")).replace(/\s+/g," ").trim()}async function p(e){try{let{raw:t}=await e.json();if(!t||"string"!=typeof t)return i.NextResponse.json({error:"No text provided"},{status:400});let r=t.split("\n").map(e=>e.trim()).filter(e=>e.length>0),n=[],s=[];for(let e of r){if(e.length<2||e.length>100){s.push(e);continue}if(function(e){let t=c(e);return 0!==t.split(" ").filter(e=>!l.includes(e)&&e.length>1&&!/^\d+$/.test(e)).length&&!(t.length>50)&&!((t.match(/\d/g)||[]).length>.3*t.length)}(e)){let t=c(e),r=function(e,t){let r=70;return t.length>=3&&t.length<=30&&(r+=10),/^[A-Z]/.test(e)&&(r+=10),(e.match(/[^\w\s]/g)||[]).length>.2*e.length&&(r-=15),/\b(band|trio|quartet|group|collective|orchestra|choir)\b/i.test(t)&&(r+=15),Math.max(0,Math.min(100,r))}(e,t);r>=60?n.push({name:t,confidence:r}):s.push(e)}else s.push(e)}n.sort((e,t)=>t.confidence-e.confidence);let a=n.filter((e,t,r)=>t===r.findIndex(t=>t.name.toLowerCase()===e.name.toLowerCase()));return console.log(`Processed ${r.length} lines, found ${a.length} potential artists`),i.NextResponse.json({artists:a,rejected:s.slice(0,10)})}catch(e){return console.error("Normalization error:",e),i.NextResponse.json({error:"Failed to process text"},{status:500})}}async function d(){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let h=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/normalize/route",pathname:"/api/normalize",filename:"route",bundlePath:"app/api/normalize/route"},resolvedPagePath:"/workspace/src/app/api/normalize/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:f}=h,y="/api/normalize/route";function v(){return(0,o.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,972],()=>r(276));module.exports=n})();